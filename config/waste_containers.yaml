# List of groups to create via the API
groups:

# Standard waste containers, 1.5m deep
- entity_type: wasteContainer
  apikey: wc_molukas_containers_1.5m
  protocol:
  - IoTA-JSON
  attributes:
  - name: areaServed
    type: Text
  - name: category
    type: Text
    # Possible values:
    #- fixed
    #- underground
    #- ground
    #- portable
    #- other
  - name: containerIsle
    type: Text
  - name: description
    type: Text
  - name: isleId
    type: Text
  - name: location
    type: geo:json
  - name: refWasteContainerModel
    type: RelationShip
  - name: serialNumber
    type: Text
  - name: status
    type: Text
    # Possible values:
    #- ok
    #- lidOpen
    #- dropped
    #- moved
    #- vandalized
    #- burning
    #- unknown
  - name: storedWasteKind
    type: Text
    # Possible values:
    #- organic
    #- inorganic
    #- glass
    #- oil
    #- plastic
    #- metal
    #- paper
    #- batteries
    #- electronics
    #- hazardous
    #- other
  - name: storedWasteOrigin
    type: string
    # Possible values:
    #- household
    #- municipal
    #- industrial
    #- construction
    #- hostelry
    #- agriculture
    #- other
  - name: dateLastEmptying
    type: DateTime
  - name: dateUpdated
    type: DateTime
  - name: dateNextActuation
    type: DateTime
  - name: weight
    type: Number
  - name: methaneConcentration
    type: Number
  - name: fillingLevel
    type: Number
    expression: "${(150 - @fillingLevel) / 150}"
    object_id: h
  - name: temperature
    type: Number
    object_id: t

# List of entities to create via the API
entities:

# First test container
- device_id: wc_molukas_container_1
  entity_name: wc_molukas_container_1
  protocol: IoTA-JSON
  _inherit:
  - apikey: wc_molukas_containers_1.5m
    values:
      areaServed: "Calle test 1"
      category: ground
      containerIsle: isla1
      description: Contenedor superficie de 1.5 metros
      isleId: isla1
      location:
        type: Point
        coordinates:
        - -13.611424
        - 28.999880
      refWasteContainerModel: wcm_molukas_model_1
      serialNumber: 123456
      status: unknown
      storedWasteKind: organic
      storedWasteOrigin: household
      dateLastEmptying: "1900-01-01"
      dateUpdated: "1900-01-01"
      dateNextActuation: "1900-01-01"
      weight: 0
      methaneConcentration: 0

# Second test container
- device_id: wc_molukas_container_2
  entity_name: wc_molukas_container_2
  protocol: IoTA-JSON
  _inherit:
  - device_id: wc_molukas_container_1
    values:
      areaServed: "Calle test 2"
      containerIsle: isla2
      isleId: isla2
      location:
        type: Point
        coordinates:
        - -13.612841
        - 28.996589
      serialNumber: 654321
